<div *ngIf="educationForm">
  <div [formGroup]="educationForm">
    <ng-container formGroupName="education">
      <ng-container
        *ngFor="let education of educationFormArray.controls; let index = index"
      >
        <div [formArrayName]="index" class="grid gap-2">
          <pk-titlebar
            [title]="'Education'"
            [index]="index"
            [actionButtons]="getFormArraySharedButtons(index)"
            [isOpen]="education.get('isOpen').value"
            (notifyToggle)="notifyToggle($event)"
            (notifyAction)="notifyAction($event)"
          ></pk-titlebar>

          <ng-container *ngIf="education.get('isOpen')?.value">
            <div class="grid">
              <mat-form-field appearance="fill">
                <mat-label>Title</mat-label>
                <input matInput formControlName="title" />
                <mat-error></mat-error>
              </mat-form-field>
            </div>

            <mat-form-field appearance="fill">
              <mat-label>Date</mat-label>
              <input matInput formControlName="date" />
              <mat-error></mat-error>
            </mat-form-field>

            <mat-form-field appearance="fill">
              <mat-label>Description</mat-label>
              <input matInput formControlName="desc" />
              <mat-error></mat-error>
            </mat-form-field>

            <mat-form-field appearance="fill">
              <mat-label>Order</mat-label>
              <input matInput formControlName="order" [value]="index + 1" />
              <mat-error></mat-error>
            </mat-form-field>
          </ng-container>
        </div>
      </ng-container>
    </ng-container>
  </div>
  <button
    class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 border border-blue-700 rounded"
    (click)="saveEducation()"
  >
    Save
  </button>
</div>
